const dayNumberElement=document.getElementById("day-number"),monthNameElement=document.getElementById("month-name"),yearNumberElement=document.getElementById("year-number"),weekdayNameElement=document.getElementById("weekday-name"),taskInputElement=document.querySelector(".task-input-field"),addButton=document.getElementById("add-button"),taskListElement=document.querySelector(".task-display ul"),pendingTasksCount=document.getElementById("pending-tasks-count"),deleteAllTasksButton=document.getElementById("delete-all-tasks-button");let tasks=JSON.parse(localStorage.getItem("tasks"))||[],count=0;function displayCurrentDate(){let e=new Date;dayNumberElement.textContent=e.toLocaleString("es",{day:"numeric"}),weekdayNameElement.textContent=e.toLocaleString("es",{weekday:"long"}),monthNameElement.textContent=e.toLocaleString("es",{month:"short"}),yearNumberElement.textContent=e.toLocaleString("es",{year:"numeric"})}const updateLocalStorage=()=>localStorage.setItem("tasks",JSON.stringify(tasks)),updatePendingTasksCount=()=>pendingTasksCount.textContent=count;function toggleTaskDone(e,t){e.classList.toggle("done");let n=tasks.find(e=>e.id===t);n.isDone=e.classList.contains("done")?1:0,count+=n.isDone?-1:1,updateLocalStorage(),updatePendingTasksCount()}function deleteTask(e,t,n){tasks=tasks.filter(e=>e.id!==n),t.classList.contains("done")||count--,e.remove(),updateLocalStorage(),updatePendingTasksCount()}function handleTaskClick(e){const t=e.currentTarget.querySelector("li"),n=e.currentTarget.querySelector("button"),a=t.id;e.target===t&&toggleTaskDone(t,a),e.target!==n&&e.target!==n.firstChild||deleteTask(e.currentTarget,t,a)}function displayTask(e,t,n){const a=document.createElement("div"),s=document.createElement("li"),o=document.createElement("button"),d=document.createElement("i");d.classList.add("fa-solid","fa-trash-can"),s.textContent=e,s.id=t,1===n?s.classList.add("done"):count++,o.appendChild(d),a.append(s,o),taskListElement.appendChild(a),a.addEventListener("click",handleTaskClick),updatePendingTasksCount()}function showError(){document.body.classList.add("error"),taskInputElement.disabled=!0,setTimeout(()=>{document.body.classList.remove("error"),taskInputElement.disabled=!1},3e3)}function addTask(){if(0===taskInputElement.value.length)return void showError();let e=self.crypto.randomUUID();tasks.push({task:taskInputElement.value,id:e,isDone:0}),displayTask(taskInputElement.value,e,0),taskInputElement.value="",updateLocalStorage()}function deleteAllTasks(){tasks=[],taskListElement.textContent="",count=0,updateLocalStorage(),updatePendingTasksCount()}document.addEventListener("DOMContentLoaded",()=>{displayCurrentDate(),tasks.forEach(e=>displayTask(e.task,e.id,e.isDone)),addButton.addEventListener("click",addTask),deleteAllTasksButton.addEventListener("click",deleteAllTasks)});
//# sourceMappingURL=script.js.map
