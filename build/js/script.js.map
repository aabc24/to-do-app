{"version":3,"sources":["script.js"],"names":["dayNumberElement","document","getElementById","monthNameElement","yearNumberElement","weekdayNameElement","taskInputElement","querySelector","addButton","taskListElement","pendingTasksCount","deleteAllTasksButton","tasks","JSON","parse","localStorage","getItem","count","displayCurrentDate","currentDate","Date","textContent","toLocaleString","day","weekday","month","year","updateLocalStorage","setItem","stringify","updatePendingTasksCount","toggleTaskDone","taskListItem","id","classList","toggle","task","find","t","isDone","contains","deleteTask","taskContainerDiv","filter","remove","handleTaskClick","e","currentTarget","deleteButton","target","firstChild","displayTask","createElement","trashIcon","add","appendChild","append","addEventListener","showError","body","disabled","setTimeout","addTask","value","length","uuid","self","crypto","randomUUID","push","deleteAllTasks","forEach"],"mappings":"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","file":"script.js","sourcesContent":["const dayNumberElement = document.getElementById(\"day-number\");\r\nconst monthNameElement = document.getElementById(\"month-name\");\r\nconst yearNumberElement = document.getElementById(\"year-number\");\r\nconst weekdayNameElement = document.getElementById(\"weekday-name\");\r\n\r\n\r\nconst taskInputElement = document.querySelector(\".task-input-field\");\r\nconst addButton = document.getElementById(\"add-button\");\r\nconst taskListElement = document.querySelector(\".task-display ul\");\r\nconst pendingTasksCount = document.getElementById(\"pending-tasks-count\");\r\nconst deleteAllTasksButton = document.getElementById(\"delete-all-tasks-button\");\r\nlet tasks = JSON.parse(localStorage.getItem(\"tasks\")) || [];\r\nlet count = 0;\r\n\r\nfunction displayCurrentDate() {\r\n  let currentDate = new Date();\r\n  dayNumberElement.textContent = currentDate.toLocaleString(\"es\", {\r\n    day: \"numeric\",\r\n  });\r\n  weekdayNameElement.textContent = currentDate.toLocaleString(\"es\", {\r\n    weekday: \"long\",\r\n  });\r\n  monthNameElement.textContent = currentDate.toLocaleString(\"es\", {\r\n    month: \"short\",\r\n  });\r\n  yearNumberElement.textContent = currentDate.toLocaleString(\"es\", {\r\n    year: \"numeric\",\r\n  });\r\n}\r\n\r\nconst updateLocalStorage = () => localStorage.setItem(\"tasks\", JSON.stringify(tasks));\r\nconst updatePendingTasksCount = () => pendingTasksCount.textContent = count;\r\n\r\nfunction toggleTaskDone(taskListItem, id) {\r\n  taskListItem.classList.toggle(\"done\");\r\n  let task = tasks.find((t) => t.id === id);\r\n  task.isDone = taskListItem.classList.contains(\"done\") ? 1 : 0;\r\n  count += task.isDone ? -1 : 1;\r\n  updateLocalStorage();\r\n  updatePendingTasksCount();\r\n}\r\n\r\nfunction deleteTask(taskContainerDiv, taskListItem, id) {\r\n  tasks = tasks.filter((t) => t.id !== id);\r\n  if (!taskListItem.classList.contains(\"done\")) count--;\r\n  taskContainerDiv.remove();\r\n  updateLocalStorage();\r\n  updatePendingTasksCount();\r\n}\r\n\r\nfunction handleTaskClick(e) {\r\n  const taskListItem = e.currentTarget.querySelector(\"li\");\r\n  const deleteButton = e.currentTarget.querySelector(\"button\");\r\n  const id = taskListItem.id;\r\n\r\n  if (e.target === taskListItem) toggleTaskDone(taskListItem, id);\r\n  if (e.target === deleteButton || e.target === deleteButton.firstChild) deleteTask(e.currentTarget, taskListItem, id);\r\n}\r\n\r\nfunction displayTask(task, id, isDone) {\r\n  const taskContainerDiv = document.createElement(\"div\");\r\n  const taskListItem = document.createElement(\"li\");\r\n  const deleteButton = document.createElement(\"button\");\r\n  const trashIcon = document.createElement(\"i\");\r\n\r\n  trashIcon.classList.add(\"fa-solid\", \"fa-trash-can\");\r\n  taskListItem.textContent = task;\r\n  taskListItem.id = id;\r\n  if (isDone === 1) taskListItem.classList.add(\"done\");\r\n  else count++;\r\n\r\n  deleteButton.appendChild(trashIcon);\r\n  taskContainerDiv.append(taskListItem, deleteButton);\r\n  taskListElement.appendChild(taskContainerDiv);\r\n  taskContainerDiv.addEventListener(\"click\", handleTaskClick);\r\n\r\n  updatePendingTasksCount();\r\n}\r\n\r\nfunction showError() {\r\n  document.body.classList.add(\"error\");\r\n  taskInputElement.disabled = true;\r\n  setTimeout(() => {\r\n    document.body.classList.remove(\"error\");\r\n    taskInputElement.disabled = false;\r\n  }, 3000);\r\n}\r\n\r\nfunction addTask() {\r\n  if (taskInputElement.value.length === 0) {\r\n    showError();\r\n    return;\r\n  }\r\n  let uuid = self.crypto.randomUUID();\r\n  tasks.push({ task: taskInputElement.value, id: uuid, isDone: 0 });\r\n  displayTask(taskInputElement.value, uuid, 0);\r\n  taskInputElement.value = \"\";\r\n  updateLocalStorage();\r\n}\r\n\r\nfunction deleteAllTasks() {\r\n  tasks = [];\r\n  taskListElement.textContent = \"\";\r\n  count = 0;\r\n  updateLocalStorage();\r\n  updatePendingTasksCount();\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  displayCurrentDate()\r\n  tasks.forEach((task) => displayTask(task.task, task.id, task.isDone));\r\n  addButton.addEventListener(\"click\", addTask);\r\n  deleteAllTasksButton.addEventListener(\"click\", deleteAllTasks);\r\n});"]}